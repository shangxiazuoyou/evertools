# Redis Butler - Redisç®¡ç†å·¥å…·

ä¸“ä¸ºç¨‹åºå‘˜éƒ¨ç½²é¡¹ç›®æ—¶è®¾è®¡çš„Redisç®¡ç†å·¥å…·ï¼Œæä¾›ç®€æ´é«˜æ•ˆçš„Redis key-valueæ“ä½œç•Œé¢ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸŒ **å¤šç¯å¢ƒæ”¯æŒ** - æ”¯æŒdev/test/prodç­‰å¤šç¯å¢ƒRedisè¿æ¥é…ç½®
- ğŸ”‘ **Key-Valueç®¡ç†** - å®Œæ•´çš„å¢åˆ æ”¹æŸ¥æ“ä½œ
- ğŸ” **æ™ºèƒ½æœç´¢** - æ”¯æŒé€šé…ç¬¦æ¨¡å¼æœç´¢Redis keys
- ğŸ“¦ **æ‰¹é‡æ“ä½œ** - æ‰¹é‡åˆ é™¤ã€æ‰¹é‡è®¾ç½®è¿‡æœŸæ—¶é—´
- ğŸ¯ **ç±»å‹è¯†åˆ«** - è‡ªåŠ¨è¯†åˆ«å¹¶æ˜¾ç¤ºkeyçš„æ•°æ®ç±»å‹
- âš¡ **å¿«é€Ÿè¿æ¥** - ä¸€é”®æµ‹è¯•è¿æ¥çŠ¶æ€
- ğŸ–¥ï¸ **ç°ä»£ç•Œé¢** - å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯

## æŠ€æœ¯æ ˆ

- **åç«¯:** Spring Boot 3.2 + Lettuce Rediså®¢æˆ·ç«¯
- **å‰ç«¯:** åŸç”ŸHTML + JavaScript
- **æ•°æ®åº“:** Redis (æ”¯æŒå•æœºå’Œé›†ç¾¤)

## å¿«é€Ÿå¼€å§‹

### 1. é…ç½®Redisè¿æ¥

ç¼–è¾‘ `src/main/resources/application.yml`ï¼š

```yaml
redis:
  environments:
    dev:
      host: localhost
      port: 6379
      database: 0
      password: 
      timeout: 2000ms
    test:
      host: test-redis.example.com
      port: 6379
      database: 1
      password: test123
      timeout: 2000ms
```

### 2. å¯åŠ¨åº”ç”¨

```bash
mvn spring-boot:run
```

### 3. è®¿é—®ç®¡ç†ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:8080

## ä½¿ç”¨è¯´æ˜

### åŸºç¡€æ“ä½œ

1. **é€‰æ‹©ç¯å¢ƒ** - åœ¨å³ä¸Šè§’é€‰æ‹©è¦è¿æ¥çš„Redisç¯å¢ƒ
2. **æµ‹è¯•è¿æ¥** - ç‚¹å‡»"æµ‹è¯•è¿æ¥"ç¡®ä¿ç¯å¢ƒå¯ç”¨
3. **ç®¡ç†Keys** - åœ¨å·¦ä¾§é¢æ¿è¿›è¡Œkey-valueæ“ä½œ
4. **æµè§ˆKeys** - åœ¨å³ä¾§é¢æ¿æŸ¥çœ‹å’Œæœç´¢æ‰€æœ‰keys

### é«˜çº§åŠŸèƒ½

#### æœç´¢Keys
- ä½¿ç”¨é€šé…ç¬¦æ¨¡å¼æœç´¢ï¼š`user:*`ã€`*cache*`ã€`session:*`
- æ”¯æŒå®æ—¶keyç±»å‹æ˜¾ç¤º

#### æ‰¹é‡æ“ä½œ
- **æ‰¹é‡åˆ é™¤ï¼š** æ ¹æ®æ¨¡å¼åˆ é™¤å¤šä¸ªkeys
- **æ‰¹é‡è¿‡æœŸï¼š** ä¸ºåŒ¹é…çš„keysç»Ÿä¸€è®¾ç½®è¿‡æœŸæ—¶é—´
- **é¢„è§ˆåŠŸèƒ½ï¼š** æ“ä½œå‰å¯é¢„è§ˆå°†å½±å“çš„keys

#### å®‰å…¨ç‰¹æ€§
- å±é™©æ“ä½œéœ€è¦äºŒæ¬¡ç¡®è®¤
- æ‰¹é‡æ“ä½œéœ€è¦è¾“å…¥ç¡®è®¤æ–‡æœ¬
- è¿æ¥å¼‚å¸¸è‡ªåŠ¨æç¤º

## APIæ¥å£

åº”ç”¨æä¾›å®Œæ•´çš„REST APIï¼š

```
GET  /api/redis/environments      # è·å–ç¯å¢ƒåˆ—è¡¨
POST /api/redis/test-connection   # æµ‹è¯•è¿æ¥
GET  /api/redis/key              # è·å–keyå€¼
POST /api/redis/key              # è®¾ç½®keyå€¼
DELETE /api/redis/key            # åˆ é™¤key
GET  /api/redis/keys             # æœç´¢keys
GET  /api/redis/key-info         # è·å–keyè¯¦ç»†ä¿¡æ¯
POST /api/redis/batch-delete     # æ‰¹é‡åˆ é™¤
POST /api/redis/batch-expire     # æ‰¹é‡è¿‡æœŸ
POST /api/redis/flush-db         # æ¸…ç©ºæ•°æ®åº“
```

## éƒ¨ç½²å»ºè®®

### å¼€å‘ç¯å¢ƒ
```bash
mvn spring-boot:run
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
mvn clean package
java -jar target/redis-butler-1.0.0.jar
```

### Dockeréƒ¨ç½²
```dockerfile
FROM openjdk:17-jre-slim
COPY target/redis-butler-1.0.0.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "/app.jar"]
```

## é…ç½®è¯´æ˜

### ç¯å¢ƒé…ç½®
æ¯ä¸ªç¯å¢ƒæ”¯æŒä»¥ä¸‹é…ç½®é¡¹ï¼š
- `host` - RedisæœåŠ¡å™¨åœ°å€
- `port` - Redisç«¯å£å·
- `database` - æ•°æ®åº“ç¼–å·
- `password` - è®¿é—®å¯†ç (å¯é€‰)
- `timeout` - è¿æ¥è¶…æ—¶æ—¶é—´

### å®‰å…¨é…ç½®
ç”Ÿäº§ç¯å¢ƒå»ºè®®ï¼š
- é…ç½®è®¿é—®æ§åˆ¶
- ä½¿ç”¨HTTPS
- é™åˆ¶ç½‘ç»œè®¿é—®
- å®šæœŸæ›´æ–°å¯†ç 

## æ³¨æ„äº‹é¡¹

âš ï¸ **é‡è¦æé†’**
- æ‰¹é‡åˆ é™¤æ“ä½œä¸å¯æ¢å¤
- æ¸…ç©ºæ•°æ®åº“ä¼šåˆ é™¤æ‰€æœ‰æ•°æ®
- å»ºè®®åœ¨æµ‹è¯•ç¯å¢ƒå…ˆéªŒè¯æ“ä½œ
- ç”Ÿäº§ç¯å¢ƒè¯·è°¨æ…ä½¿ç”¨æ‰¹é‡åŠŸèƒ½

## æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜è¯·æ£€æŸ¥ï¼š
1. Redisè¿æ¥é…ç½®æ˜¯å¦æ­£ç¡®
2. ç½‘ç»œè¿é€šæ€§
3. RedisæœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
4. æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯